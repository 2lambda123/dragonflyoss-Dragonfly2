# Dragonfly2
## 定位
提供企业级（高效、稳定、安全、低成本、产品化）的文件分发与管理服务，收敛各类文件分发场景，并最终给用户形成一个心智：任何文件传输问题到蜻蜓为止！

## 当前痛点
1. 当前只能支持HTTP回源协议，针对其他类型的存储（比如HDFS、各云厂商的存储服务、Maven、YUM等等）缺乏支持，因此在非HTTP源的规模化场景下极易导致分发效率问题
2. 现有架构很难满足日益增长的文件分发规模，稳定性及效率受到越来越多的挑战；同时扩展能力较差（比如不支持原生集成到第三方软件中），部署模式也不够灵活
3. 缺乏足够的安全保障，包括协议安全、通信及数据传输安全、系统安全等方面
4. 缺少产品化能力，无法提供完善的文件分发及管理解决方案，比如数据大盘、文件实时同步、客户端管理等等
5. 内外版本不一致，维护成本高，很多新特性很难相互共享
## 核心特性
1. 通过统一适配层支持各种不同类型存储（HDFS、各云厂商的存储服务、Maven、YUM等等）的P2P文件分发能力
2. 支持更多的分发模式：主动推送、实时同步、远程复制、自动预热、跨云传输等等
3. 系统之间分离解耦，且支持按需部署，可轻可重，灵活满足不同场景的实际需要
4. 全新设计P2P通信协议，效率及安全性更佳
5. 支持加密传输、基于账号的传输鉴权与限流、多租户隔离机制
6. 客户端与CDN子系统支持多种IO方式：多线程IO、普通读写、DMA等
7. 服务端支持动态压缩、内存文件系统以及更高效的调度算法，提升分发效率
8. 客户端通过C/S模式支持第三方软件原生集成蜻蜓的P2P能力
9. 产品化能力：支持基本的远程文件管理（上传、查询、删除）、各种分发模式的任务管理、数据视图以及全局管控等等功能
10. 内外一套，核心特性相互共享，非通用特性各自扩展

## 架构大图
### 产品架构
![](docs/product-arch.png)
### 技术架构
![](docs/technique-arch.png)